class Ö extends Array{constructor(...e){super(...e),this.q=[]}queue(e){return"function"==typeof e&&(this.q.length?this.q.push(e):e(this)),this}startQueue(e){return this.wait(e)}stopQueue(){return this.q.aWF&&this.q.aWF.el.removeEventListener(this.q.aWF.e,this.q.aWF.cb),this.q.stopQ&&this.q.stopQ("Queue stopped."),this.q=[],this}pause(){return this.q.aWF&&this.q.aWF.el.removeEventListener(this.q.aWF.e,this.q.aWF.cb),this.q.paused=!0,this}unpause(){return this.q.paused&&this.q.unpause&&this.q.unpause(),this.q.aWF&&this.q.aWF.el.addEventListener(this.q.aWF.e,this.q.aWF.cb,{once:!0}),delete this.q.paused,this}loop(e=0,t=!1){return this.q.isRunning||this.startQueue(),this.q.loop=e>0?e:1/0,this.q.reverseQ=!!t,this}async _runQueue(){if(1===this.q.length){let e,t=this,n=0;this.q.isRunning=new Promise(async function(r,s){for(t.q.stopQ=s,t.q.loop=t.q.loop?t.q.loop:1;t.q.loop>n++;){for(e=0;t.q.length>e;)t.q.paused&&await new Promise(e=>t.q.unpause=e),await t.q[e++](t);if(t.q.reverseQ)for(e-=2;e>0;)t.q.paused&&await new Promise(e=>t.q.unpause=e),await t.q[e--](t)}t.q.reverseQ&&await t.q[0](t),t.q=[],r("Queue finished.")}).catch(e=>ö.log(ö.message(e),this))}}waitForQueue(){return this.q.isRunning?this.q.isRunning:Promise.resolve("Queue not running.")}wait(e=1){return this.q.push(async function(){await new Promise(t=>setTimeout(t,e))}),this._runQueue(),this}waitFor(e,t){const n=this;return this.q.push(async function(){await new Promise(r=>{let s=ö(e)[0];n.q.aWF={el:s,e:t,cb:r},s.addEventListener(t,r,{once:!0})})}),this._runQueue(),this}waitFrames(e){return this.q.push(async function(){await ö.waitFrames(e)}),this._runQueue(),this}load(e,t){const n=this;return this.q.push(async function(){try{let r=await fetch(e),s=await r.text();if(n.html(s),"function"==typeof t)for(let[e,r]of n.entries())await t.call(n,s,e,r)}catch(e){ö.log(ö.message(e))}}),this._runQueue(),this}delay(e,t=1,n=!1){const r=this;return this.queue(()=>{n&&void 0!==this.q.aD&&clearTimeout(this.q.aD),this.q.aD=setTimeout(async function(){r.pause(),await e(),r.unpause()},t)})}on(e={},t,n=!1,r=!1,s=!1,i=!1){const o="object"==typeof e?e:(n=>{for(let r of e.split(" "))n[r]=t;return n})({}),a=e=>{for(let e of l)this._removeEvent(e[0],e[1],a);o[e.type](e),l=[]};let l=[];return this._cache(),this.queue(()=>{s&&(l=[]);for(let e of this)if(n&&!Object.keys(o).length)this._removeEvent(e);else for(let t in o)n?this._removeEvent(e,t,o[t]):r?e.dispatchEvent(new Event(t)):s?(i||l.push([e,t]),this._addEvent(e,t,i?o[t]:a,!0)):this._addEvent(e,t,o[t])})}_addEvent(e,t,n,r=!1){ö.data(e,"ö_cache").events.add([t,n]),e.addEventListener(t,n,{once:r})}_removeEvent(e,t,n){let r=ö.data(e,"ö_cache").events;if(void 0===t){for(let t of r)e.removeEventListener(...t);r.clear(0)}else if(void 0===n)for(let n of r)n[0]===t&&(e.removeEventListener(...n),r.delete(n));else for(let s of r)s[0]===t&&s[1]===n&&(e.removeEventListener(...s),r.delete(s))}off(e,t){return this.on(e,t,!0)}trigger(e){return this.on(e,null,!1,!0)}once(e,t,n){return this.on(e,t,!1,!1,!0,n)}hover(e,t){return void 0!==t?this.on({mouseenter:e,mouseleave:t}):this.on("mouseenter mouseleave",e)}each(e){return this.queue(()=>{for(let[t,n]of this.entries())e(new Ö(n),t,this)})}append(e,t=!1,n="beforeend"){const r=e instanceof Ö?e:"function"==typeof e?[0]:ö(e),s=(e,t)=>e.length>1?t.cloneNode(!0):t;return this.queue(()=>{for(let[i,o]of this.entries())for(let a of r)"function"==typeof e&&(a=ö(e(i,o.innerHTML,o))[0]),t?a.insertAdjacentElement(n,s(r,o)):o.insertAdjacentElement(n,s(this,a))})}appendTo(e){return this.append(e,!0)}prepend(e){return this.append(e,!1,"afterbegin")}prependTo(e){return this.append(e,!0,"afterbegin")}after(e){return this.append(e,!1,"afterend")}insertAfter(e){return this.append(e,!0,"afterend")}before(e){return this.append(e,!1,"beforebegin")}insertBefore(e){return this.append(e,!0,"beforebegin")}wrap(e,t=!1){const n=e instanceof Ö?e[0]:ö(e)[0];return this.queue(()=>{if(t){const e=ö.deepest(n);this[0].parentNode.insertBefore(n,this[0]);for(let t of this)e.appendChild(t)}else{let e;for(let t of this)e=n.cloneNode(!0),t.parentNode.insertBefore(e,t),ö.deepest(e).appendChild(t)}})}wrapAll(e){return this.wrap(e,!0)}remove(){return this.queue(()=>{for(let e of this)e.parentElement.removeChild(e)})}detatch(){return remove()}empty(){return this.prop("innerHTML","")}prop(e,t,n=!1,r=!1,s){const i=e=>e.replace(/(-)([a-z])/g,(e,t,n,r)=>r?n.toUpperCase():n),o=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=(e,t,n,r,s)=>{void 0!==n?(this._setTransition(s,[[o(e),("function"==typeof n?n(r,s):n)/1e3]]),setTimeout(()=>s.style[i(e)]=t,0)):s.style[i(e)]=t};if(void 0===t&&"string"==typeof e){const t=e.split(" ");return 1===t.length?n?this[0].getAttribute(e):r?window.getComputedStyle(this[0])[i(e)]:this[0][e]:(()=>{let e={};for(let s of t)e[s]=n?this[0].getAttribute(s):r?e[s]=window.getComputedStyle(this[0])[i(s)]:this[0][s];return e})()}return"object"==typeof e?this.queue(()=>{for(let[t,i]of this.entries())for(let o in e)n?i.setAttribute(o,e[o]):r?a(o,e[o],s,t,i):i[o]=e[o]}):this.queue(()=>{for(let[o,l]of this.entries()){let u="function"==typeof t?t(o,n?l.getAttribute(e):r?window.getComputedStyle(l)[i(e)]:l[e],l):t;n?l.setAttribute(e,u):r?a(e,u,s,o,l):l[e]=u}})}attr(e,t){return this.prop(e,t,!0)}style(e,t,n){return this.prop(e,t,!1,!0,n)}css(e,t,n){return this.style(e,t,n)}html(e){return this.prop("innerHTML",e)}text(e){return this.prop("innerText",e)}val(e){return this.prop("value",e)}removeAttr(e){return this.queue(()=>{for(let t of this)t.removeAttribute(e)})}data(e,t){return void 0!==t||"object"==typeof e?this.queue(()=>{for(let[n,r]of this.entries())ö.data(r,e,"function"==typeof t?t(n,ö.data(r,e),r):t)}):ö.data(this[0],e)}hide(e=0,t=!1){return this._cache(),this.queue(()=>{for(let[n,r]of this.entries()){let s="function"==typeof e?e(n,r):e;r.style.opacity=0,this._setTransition(r,[["opacity",s/1e3]]),setTimeout(()=>t?r.style.visibility="hidden":r.style.display="none",s)}})}show(e=0){let t;return this._cache(),this.queue(()=>{for(let[n,r]of this.entries())t=ö.data(r,"ö_cache"),r.style.display=t.style.display,r.style.visibility="visible",this._setTransition(r,[["opacity",("function"==typeof e?e(n,r):e)/1e3]]),setTimeout(()=>r.style.opacity=t.style.opacity,1)})}pos(e,t,n=0,r=!1){if(void 0===e){let e=this[0].getBoundingClientRect();return Object.assign(e,{offsetX:this[0].offsetLeft,offsetY:this[0].offsetTop,offsetParent:this[0].offsetParent,scrollX:window.scrollX,scrollY:window.scrollY,documentX:e.x+window.scrollX,documentY:e.y+window.scrollY})}return this.queue(()=>{for(let[s,i]of this.entries()){let o="function"==typeof n?n(s,i):n,a="function"==typeof e?e(s,i):"number"==typeof e?e+"px":e,l="function"==typeof t?t(s,i):"number"==typeof t?t+"px":t;r&&(i.style.position="fixed"),void 0!==n?(i.style.left||(i.style.left=window.getComputedStyle(i).left),i.style.top||(i.style.top=window.getComputedStyle(i).top),"auto"===window.getComputedStyle(i).top&&(i.style.left=0),this._setTransition(i,[["left",o/1e3],["top",o/1e3]]),setTimeout(()=>{i.style.left=a,i.style.top=l},1)):(i.style.left=a,i.style.top=l)}})}position(e,t,n,r){return this.pos(e,t,n,r)}transform(e,t=[],n){return this._cache(),this.queue(()=>{let r,s=[];for(let[i,o]of this.entries())if(!1===e||"none"===e)o.style.transform=null,ö.data(o,"ö_cache").style.ö_transform={};else{let a=(r=ö.data(o,"ö_cache").style).transform+" ";for(let[e,n]of t.entries())s[e]="function"==typeof n?n(i,o):n;r.ö_transform[e]=s;for(let e in r.ö_transform)a+=`${e}(${r.ö_transform[e]}) `;void 0!==n?(this._setTransition(o,[["transform",("function"==typeof n?n(i,o):n)/1e3]]),setTimeout(()=>o.style.transform=a,1)):o.style.transform=a}})}move(e,t,n){return this.transform("translate3d",["number"==typeof e?e+"px":e,"number"==typeof t?t+"px":t,0],n)}rotate(e,t){return this.transform("rotate3d",[0,0,1,"number"==typeof e?e+"deg":e],t)}scale(e,t){return this.transform("scale3d",[e,e,1],t)}ease(e){return this.style("transition-timing-function",e)}bg(e,t){return this.style("background-color",e,t)}clr(e,t){return this.style("color",e,t)}_cache(){if(!this.cached){for(let e of this)ö.data(e,"ö_cache")||ö.data(e,"ö_cache",{style:e instanceof Element?{display:"none"===window.getComputedStyle(e).display?"block":window.getComputedStyle(e).display,opacity:window.getComputedStyle(e).opacity||1,transform:"none"===window.getComputedStyle(e).transform?"":window.getComputedStyle(e).transform,transition:window.getComputedStyle(e).transition||"all 0s","ö_transform":{},"ö_transition":{}}:{},events:new Set});this.cached=!0}}_setTransition(e,t){this._cache();let n=ö.data(e,"ö_cache").style,r=n.transition;for(let e of t)n.ö_transition[e[0]]=e[1];for(let e in n.ö_transition)r+=`, ${e} ${n.ö_transition[e]}s`;e.style.transition=r}addClass(e,t="add"){return this.queue(()=>{for(let n of this)n.classList[t](...e.split(" "))})}removeClass(e){return this.addClass(e,"remove")}toggleClass(e){return this.queue(()=>{for(let t of this)t.classList.toggle(e)})}replaceClass(e,t){return this.queue(()=>{for(let n of this)n.classList.replace(e,t)})}hasClass(e,t=!1){const n=e.split(" ");for(let e of this)for(let r of n)if(e.classList.contains(r)){if(!t)return!0}else if(t)return!1;return!!t}equals(e,t=!1){const n=e instanceof Ö?e:ö(e);if(this.length!==n.length)return!1;for(let[e,r]of this.entries())if(t){if(r!==n[e])return!1}else if(!r.isEqualNode(n[e]))return!1;return!0}getIndex(e){if(e instanceof Ö||e instanceof Element){const t=e instanceof Ö?e[0]:e;for(let[e,n]of this.entries())if(n===t)return e}else if(!e||"string"==typeof e){const t="string"==typeof e?ö(e):Array.from(this[0].parentElement.children);for(let[e,n]of t.entries())if(n===this[0])return e}return-1}index(e){return this.getIndex(e)}find(e){let t=[];if(e instanceof Ö||e instanceof Element){const n=e instanceof Ö?e:[e];for(let e of this)for(let r of n)e!==r&&e.contains(r)&&t.push(r)}else for(let n of this)t=t.concat(Array.from(n.querySelectorAll(e)));return t.length?new Ö(...t):ö.log(ö.message(`Sorry, could not find descendants for input: ${e}.`)),new Ö(...t)}clone(){let e=[];for(let t of this)e.push(t.cloneNode(!0));return new Ö(...e)}parent(e,t=!1,n=!1){let r,s=new Set;for(let i of this)!(r=t?i.previousElementSibling:n?i.nextElementSibling:i.parentElement)||e&&!r.matches(e)||s.add(r);return new Ö(...s)}prev(e){return this.parent(e,!0)}next(e){return this.parent(e,!1,!0)}atIndex(e){return new Ö([this[e]])}eq(e){return this.atIndex(e)}get(e=0){return this[e]}e(e){return this.get(e)}}!function e(t){if(window.ö!==e&&function(){e.range=function*(t,n,r=1){if([t,n,r]=void 0===n?[0,+t,+r]:[+t,+n,+r],!Number.isFinite([t,n,r].reduce((e,t)=>e+t)))throw new RangeError(e.message(`Oops, NaN input: ${[t,n,r].join(", ")}`));const s=t<n?()=>(t+=r)<n:()=>(t-=r)>n;do{yield t}while(s())},e.rangeArray=((t,n,r=1)=>{let s=[],i=0;for(let o of e.range(t,n,r))s[i++]=o;return s}),e.unique=(e=>Array.from(new Set(e))),e.shuffle=(e=>{let t=Array.from(e);for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}),e.createElement=((e,t=!1)=>{let n=document.createElement("template");return t?(n.innerHTML=`<svg>${e.trim()}</svg>`,n.content.firstChild.firstChild):(n.innerHTML=e.trim(),n.content.firstChild)}),e.parseDOMStringMap=(e=>{e=Object.assign({},e);for(let t in e)try{e[t]=JSON.parse(e[t])}catch(e){}return e});const t=new WeakMap;let n,r;e.data=((n,r,s)=>{let i=t.has(n)?t.get(n):e.parseDOMStringMap(n.dataset);return void 0===s&&"object"!=typeof r||t.set(n,Object.assign(i,"object"==typeof r?r:{[r]:s})),"string"==typeof r?i[r]:i}),e.deepest=((e,t="*")=>Array.from(e.querySelectorAll(t)).reduce((t,n)=>{for(var r=0,s=n;s!==e;r++,s=s.parentNode);return r>t.d?{d:r,deepestElement:n}:t},{d:0,deepestElement:e}).deepestElement),e.random=(e=>Math.floor(Math.random()*e)),e.nthRoot=((e,t)=>e**(1/Math.abs(t))),e.wait=async function(e=1,t,s=!1){(s="boolean"==typeof t?t:s)&&r&&(clearTimeout(n),r());try{await new Promise((t,s)=>{n=setTimeout(t,e),r=s}),"function"==typeof t&&await t()}catch(e){}},e.nextFrame=async function(e){return new Promise(t=>requestAnimationFrame(async function(){"function"==typeof e&&await e(),t()}))},e.waitFrames=async function(t=1,n,r=!1){for(;t-- >0;)await e.nextFrame(r?n:void 0);"function"!=typeof n||r||await n()},e.waitFor=async function(e,t,n){return new Promise(r=>{document.querySelector(e).addEventListener(t,async function(e){"function"==typeof n&&await n(e),r()},{once:!0})})},e.log=console.log,e.message=(e=>`ö🍳uery says: ${e}`),e.toString=(()=>"Hello ö🍳uery!"),Object.freeze(e),Object.defineProperty(window,"ö",{value:e}),e.wait(1,()=>window.dispatchEvent(new Event("öQuery")))}(),void 0===t)return e.toString();if("function"==typeof t)return"interactive"===document.readyState?t():window.addEventListener("DOMContentLoaded",t,{once:!0});try{const n="string"==typeof t?"<"===t[0]&&">"===t[t.length-1]?[e.createElement(t)]:"svg"===t.substr(0,3)&&">"===t[t.length-1]?[e.createElement(t.substr(3),!0)]:document.querySelectorAll(t):t instanceof Element||t===document||t===window?[t]:t instanceof Ö||t instanceof HTMLCollection||t instanceof NodeList?Array.from(t):t instanceof Array?t.filter(e=>e instanceof Element):[];if(!n.length)throw new Error(`Sorry, could not find or create elements from input: ${t}.\nValid inputs are: String as '<html>' or 'svg<svg>' or 'selector', Element, NodeList, HTMLCollection, Ö, or Array of elements.`);return new Ö(...n)}catch(t){return e.log(e.message(t)),new Ö}}();
